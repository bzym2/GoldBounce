/*
 * GoldBounce Hacked Client
 * A free open source mixin-based injection hacked client for Minecraft using Minecraft Forge.
 * https://github.com/bzym2/GoldBounce/
 */
package net.ccbluex.liquidbounce.features.module.modules.exploit

import net.ccbluex.liquidbounce.event.EventTarget
import net.ccbluex.liquidbounce.event.UpdateEvent
import net.ccbluex.liquidbounce.features.module.Category
import net.ccbluex.liquidbounce.features.module.Module
import net.ccbluex.liquidbounce.value._boolean
import net.ccbluex.liquidbounce.value.choices
import net.ccbluex.liquidbounce.value.intValue

/**
 * Similar usage to NextGen AntiExploit Modules
 *
 * @author EclipsesDev
 */
object AntiExploit : Module("AntiExploit", Category.EXPLOIT, hideModule = false) {

    var itemMax = 0
    var arrowMax = 0

    val cancelExplosionMotion by _boolean("CancelExplosionMotion", true)
    val cancelExplosionStrength by _boolean("CancelExplosionStrength", true)
    val cancelExplosionRadius by _boolean("CancelExplosionRadius", true)
    val limitParticlesAmount by _boolean("LimitParticlesAmount", true)
    val limitParticlesSpeed by _boolean("LimitParticlesSpeed", true)
    val limitedEntitySpawn by _boolean("LimitedEntitySpawn", true)
    val maxItemDropped by intValue("MaxItemsDropped", 1000, 10..5000) { limitedEntitySpawn }
    val maxArrowsSpawned by intValue("MaxArrowsSpawned", 500, 10..5000) { limitedEntitySpawn }
    val cancelDemo by _boolean("CancelDemoGUI", true)

    val warn by choices("Warn", arrayOf("Off", "Chat", "Notification"), "Chat")

    @EventTarget
    fun onUpdate(event: UpdateEvent) {
        val player = mc.thePlayer ?: return

        if (player.ticksExisted % 500 == 0) {
            arrowMax = 0
            itemMax = 0
        }
    }

    override fun onDisable() {
        arrowMax = 0
        itemMax = 0
    }
}